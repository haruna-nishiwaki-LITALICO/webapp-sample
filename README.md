## QA Practice App

QAエンジニアのためのテスト技法・自動化練習用Webアプリケーションです。意図的に盛り込まれた不具合や複雑な仕様を利用して、同値分割・境界値分析・状態遷移テストなどを実践できます。

### 🧰 使用技術
- Python 3.10 以上
- Flask 3 / Flask-SQLAlchemy
- SQLite (ローカルファイル)

### 🚀 セットアップ
1. 依存関係をインストールします。
	```sh
	python3 -m venv .venv
	source .venv/bin/activate
	pip install -r requirements.txt
	```

2. アプリケーションを起動します。
	```sh
	python app.py
	```

3. ブラウザで <http://127.0.0.1:5000> を開き、以下のアカウントでログインします。
	- 管理者: `admin` / `admin_password`
	- 一般ユーザー: `user` / `user_password`

### 💾 データベース操作
- 初期データは初回起動時に自動登録されます。
- 手動で初期化したい場合:
  ```sh
  python app.py --reset-db
  ```

### 📋 主な機能
- ログイン・ログアウト（管理者 / 一般ユーザー）
- 商品一覧表示・複合条件検索（キーワード、カテゴリ、価格帯）
- 在庫状況に応じたステータス表示
- 商品の登録 / 編集 / 削除（削除は管理者のみ）
- ステータス遷移制御（準備中 → 公開中/非公開 → ...）

### 🎯 テスト練習ポイント
- 入力バリデーション: 商品名、価格、在庫数で境界値分析が可能
- 在庫ステータス: 在庫数に応じた色分け表示（デシジョンテーブルテスト）
- 権限テスト: ロールによる操作制限（CRUDの差異）
- 状態遷移テスト: ステータス変更ルールを実装

### 🐞 意図的に仕込まれた不具合
- 検索キーワードに `バグ票` を入力すると 500 エラーが発生
- 商品説明に HTML を入力するとエスケープされず XSS が成立
- 削除ボタンに確認ダイアログがなく即時削除される

### 🤖 テスト自動化のヒント
- 主要な入力やボタンに `data-testid` 属性を付与しています。
- ログインフォームは `data-testid="login-form"`
- 商品テーブルは `data-testid="product-table"`
- 削除ボタンは `data-testid="button-delete-<商品ID>"`

### 📎 ライセンス
このリポジトリは学習・演習目的で自由に利用できます。